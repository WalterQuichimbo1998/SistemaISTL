<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="./templateEstudiante.xhtml">
        
        <ui:define name="body">
            <div class="boxContainerData">
            <h:form id="MateriaEditForm">
                <h:panelGrid columns="1" style="margin: auto; ">
                    <h:panelGroup style="display: inline-block; text-align: center; "> 
                        
                            <p class="title_datosPersonales">DATOS PERSONALES</p>


                            <div class="botones2">
                                <div style="width: 140px;height: 140px;margin: auto;" id="imagen">
                                <p:graphicImage name="#{datosPersonalesController.selected.foto}" 
                                                style="width: 140px;height: 140px; border-radius: 136px;object-fit:cover;object-position:center center;margin: auto;box-shadow: 0px 0px 1px 1px #1976d3;position:relative;" >
                                 <p:commandLink styleClass="foto" title="Cambiar Foto"
                                                 oncomplete="PF('form_imagen').show()"
                                                 update=":datos,:datos2">
                                    <img src="#{request.contextPath}/resources/images/camara.png" 
                                         style="width: 28px;height: 28px;background: #fff;padding: 6px 6px;border-radius: 20px;"/>
                                </p:commandLink>
                                </p:graphicImage>
                                    </div>
                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Nombres" for="nombres" />
                                <p:inputText styleClass="camposDeDatos" id="nombres" value="#{datosPersonalesController.selected.nombres}" title="#{bundle.EditDatosPersonalesTitle_nombres}" 
                                             maxlength="45" />
                              
                                <br id="espa"/>
                                <p:outputLabel  class="labelDatosPersonales" value="Apellidos" for="apellidos" />
                                <p:inputText styleClass="camposDeDatos" id="apellidos" value="#{datosPersonalesController.selected.apellidos}" title="#{bundle.EditDatosPersonalesTitle_apellidos}" 
                                             maxlength="45"/>
                            </div>

                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Cédula" for="numIdentificacion" />
                                <p:inputText styleClass="camposDeDatos" id="numIdentificacion" value="#{datosPersonalesController.selected.numIdentificacion}" title="#{bundle.EditDatosPersonalesTitle_numIdentificacion}" 
                                             maxlength="45" required="true" requiredMessage="Ingrese su cédula"/>
                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Sexo" for="sexo" />
                                <h:selectOneMenu id="sexo" class="txtC" value = "#{datosPersonalesController.selected.sexo}"> 
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItem itemValue = "Hombre" itemLabel = "Hombre" /> 
                                    <f:selectItem itemValue = "Mujer" itemLabel = "Mujer" />
                                </h:selectOneMenu>                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Género" for="genero" />
                                <h:selectOneMenu class="txtC" id="genero" value="#{datosPersonalesController.selected.genero}" >
                                    <f:selectItem itemLabel="-Seleccione-"/>
                                    <f:selectItem itemLabel="Masculino" itemValue="0"/>
                                    <f:selectItem itemLabel="Femenino" itemValue="1"/>
                                </h:selectOneMenu>
                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Fecha de Nacimiento" for="fechaNacimiento" />
                                <p:calendar styleClass="calendarClass" id="fechaNacimiento" pattern="dd/MM/yyyy" locale="es" navigator="true" value="#{datosPersonalesController.selected.fechaNacimiento}" mask="true" />
                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Dirección" for="direccion" />
                                <p:inputText styleClass="camposDeDatos" id="direccion" value="#{datosPersonalesController.selected.direccion}" title="#{bundle.EditDatosPersonalesTitle_direccion}" 
                                             maxlength="45"/>
                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Correo Electrónico" for="correoElectronico" />
                                <p:inputText styleClass="camposDeDatos" id="correoElectronico" value="#{datosPersonalesController.selected.correoElectronico}" title="#{bundle.EditDatosPersonalesTitle_correoElectronico}" 
                                             maxlength="45"/>
                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Celular" for="celular" />
                                <p:inputText styleClass="camposDeDatos" id="celular" value="#{datosPersonalesController.selected.celular}" title="#{bundle.EditDatosPersonalesTitle_celular}" 
                                             maxlength="45"/>
                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Teléfono" for="convencional" />
                                <p:inputText styleClass="camposDeDatos" id="convencional" value="#{datosPersonalesController.selected.convencional}" title="#{bundle.EditDatosPersonalesTitle_convencional}" />
                            </div>
                            <div class="botones2">
                                <p:outputLabel class="labelDatosPersonales" value="Código Postal" for="codPostal" />
                                <p:inputText styleClass="camposDeDatos" id="codPostal" value="#{datosPersonalesController.selected.codPostal}" title="#{bundle.EditDatosPersonalesTitle_codPostal}" 
                                             maxlength="45"/>
                            </div>
                            <div class="botones2"></div>


                       
                    </h:panelGroup>
                </h:panelGrid>
                 <div style="text-align: center;margin-top: 20px;">
                    <p:commandButton ajax="false" class="btn_actualizarEstudiante" update="MateriaEditForm" actionListener="#{datosPersonalesController.update}" value="ACTUALIZAR"/><br/>
                    <h:outputText class="mesageEs" value="#{datosPersonalesController.msj}" id="message"></h:outputText> 
                </div>
            </h:form>
           
                 </div>
       <p:dialog id="form_imagen" widgetVar="form_imagen" modal="false" resizable="false" appendTo="@(body)"
                        closeOnEscape="true" showEffect="clip" hideEffect="clip" showHeader="false"> 
                  <h1 style="width: 100%;margin: auto;color:#fff;background: #186bbe;font-family: Arial;text-align: center;padding: 3px 0px;border-radius: 3px;">
                      Cambiar Foto</h1>
                  <br/>
                   <h:form id="datos" style="width: 500px;margin: auto;">
                       <center>
                           <p:outputLabel value=" #{datosPersonalesController.selected.nombres} #{datosPersonalesController.selected.apellidos}"
                                          style="width: 100%;margin:auto;font-family: Arial;color:#454545;font-size: 20px !important;"/>
                       </center>
                   </h:form>
                   <h:form enctype="multipart/form-data" id="datos2" >
                       <p:fileUpload style="width: 500px;margin: auto;"
                        class="labelDatosPersonales"
                        previewWidth="80"
                        fileUploadListener="#{datosPersonalesController.handleFileUpload}" 
                        mode="advanced" 
                        dragDropSupport="false"
                        sizeLimit="1000000"
                        cancelLabel="Cancelar"
                        uploadLabel="Subir Foto"
                        fileLimitMessage="No Mayor a 1 MB"
                        invalidSizeMessage="Máximo 1 MB"
                        invalidFileMessage="Archivo Fallído"
                        label="Seleccionar Foto"
                        fileLimit="1" 
                        allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />  </h:form>
                   <h:form>
                       <center>
                    <p:commandButton styleClass="eliminar" style="font-size: 16px" value="Cerrar" immediate="true" onclick="form_imagen.hide()"/>
                </center>
                   </h:form>
        </p:dialog>
        </ui:define>
        
    </ui:composition>
</html>
